/*! Float.js 0.0.3 2014-05-05 */
function Title(a){this.name=a.title,this._container=a.container}function XAxis(a){this.domainRange=a.length,this.width=a.width,this._parent=a.parent,this.space=a.space,this.valueList=a.valueList,this.outerPadding=a.outerPadding,this.padding=a.padding,this.step=a.step,this._container=a.container}function Detail(a){this._container=a.container,this.detailNode=null}function Column(a){this.value=a.value,this.x=a.x,this.y=a.y,this.height=a.height,this.width=a.width,this.color=a.color||"steelblue",this.name=a.name||"",this._container=a.container,this._parent=a.parent,this._isHighLight=!1}function Columns(a){this.x=a.x,this.y=a.y,this.series=a.series,this._container=a.container,this.columnList=[],this._parent=a.parent}function Graph(a){this.node=a.element||"body",this.series=a.series,this.type=a.type,this.width=a.width,this.height=a.height,this.chartObject=null,this.detail=null}var Frost={namespace:function(a){var b=[],c=Frost;if(a.indexOf(".")>=0){b=a.split(".");for(var d=1;d!=b.length;d++)c[b[d]]=c[b[d]]||{},c=c[b[d]]}return Frost},clone:function(a){var b={},c=this;if(c.isString(a)||c.isNumber(a)||c.isBoolean(a))return a;for(var d in a)if(Array.isArray(a[d])){b[d]=[];for(var e=0;e!=a[d].length;e++)b[d].push(c.clone(a[d][e]))}else b[d]="object"!=typeof a[d]?a[d]:c.clone(a[d]);return b},extend:function(a,b){a.prototype=new b,a.prototype.constructor=a},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a},isBoolean:function(a){return"boolean"==typeof a},isArray:function(a){return Array.isArray(a)}};Frost.namespace("Frost.Title"),Title.prototype.getName=function(){return this.name},Title.prototype.setName=function(a){this.name=a},Title.prototype.getContainer=function(){return this._container},Title.prototype.setContainer=function(a){this._container=a},Title.prototype.render=function(){this._container.append("div").attr("class","frost_title").html(this.name)},Frost.Title=Title,Frost.namespace("Frost.XAxis"),XAxis.prototype.getDomainRange=function(){return this.domainRange},XAxis.prototype.getValueList=function(){return this.valueList},XAxis.prototype.getOuterPadding=function(){return this.outerPadding},XAxis.prototype.getStep=function(){return this.step},XAxis.prototype.getPadding=function(){return this.padding},XAxis.prototype.getWidth=function(){return this.width},XAxis.prototype.getSpace=function(){return this.space},XAxis.prototype.getParent=function(){return this._parent},XAxis.prototype.getContainer=function(){return this._container},XAxis.prototype.render=function(){var a=this.getStep(),b=this.getPadding()/a,c=this.getOuterPadding()/a;this.xAxisNode=this._container.append("g").attr("class","frost_xAxis").attr("transform","translate(0,"+this.getSpace()+")");var d=d3.scale.ordinal().domain(d3.range(this.getDomainRange())).rangeBands([0,this.getWidth()],b,c),e=d3.svg.axis().scale(d).tickSize(1).tickPadding(4).orient("bottom");return this.xAxisNode.call(e),this},Frost.XAxis=XAxis,Frost.namespace("Frost.Detail"),Detail.prototype.getContainer=function(){return this._container},Detail.prototype.setX=function(a){this.detailNode.style("left",a+"px")},Detail.prototype.setY=function(a){this.detailNode.style("top",a+"px")},Detail.prototype.setContent=function(a){this.detailNode.html(a)},Detail.prototype.setPosition=function(a){this.setX(a.x),this.setY(a.y)},Detail.prototype.show=function(){this.detailNode.style("display","block")},Detail.prototype.hide=function(){this.detailNode.style("display","none")},Detail.prototype.render=function(){return this.detailNode=this._container.append("div").attr("class","frost_detail"),this},Frost.Detail=Detail,Frost.namespace("Frost.Column"),Column.prototype.getValue=function(){return this.value},Column.prototype.setValue=function(a){this.value=a},Column.prototype.getX=function(){return this.x},Column.prototype.setX=function(a){this.x=a},Column.prototype.getY=function(){return this.y},Column.prototype.setY=function(a){this.y=a},Column.prototype.getHeight=function(){return this.height},Column.prototype.setHeight=function(a){this.height=a},Column.prototype.getWidth=function(){return this.width},Column.prototype.setWidth=function(a){this.Width=a},Column.prototype.getColor=function(){return this.color},Column.prototype.setColor=function(a){this.color=a},Column.prototype.getName=function(){return this.name},Column.prototype.setName=function(a){this.name=a},Column.prototype.getContainer=function(){return this._container},Column.prototype.setContainer=function(a){this._container=a},Column.prototype.getParent=function(){return this._parent},Column.prototype.getRectNode=function(){return this._rectNode},Column.prototype.isHighLight=function(){return this._isHighLight},Column.prototype.setHighLight=function(){this._isHighLight=!0,this.getRectNode().attr("fill","#0870B4")},Column.prototype.deleteHighLight=function(){this._isHighLight=!1,this.getRectNode().attr("fill",this.getColor())},Column.prototype.render=function(){return this._rectNode=this._container.append("rect").attr("x",this.getX()).attr("y",this.getY()).attr("width",this.getWidth()).attr("height",this.getHeight()).attr("fill",this.getColor()),this._bindUI(),this},Column.prototype._bindUI=function(){var a=this,b=a.getParent().getParent().getDetail();this._rectNode.on("mouseover",function(){var c=d3.mouse(this);b.setContent(a.getName()+":"+a.getValue()),b.setPosition({x:c[0],y:c[1]}),b.show()}),this._rectNode.on("mousemove",function(){var a=d3.mouse(this);b.setPosition({x:a[0]+8,y:a[1]})}),this._rectNode.on("mouseleave",function(){b.hide()}),this._rectNode.on("click",function(){d3.event.stopPropagation(),a.isHighLight()?a.deleteHighLight():a.setHighLight()})},Frost.Column=Column,Frost.namespace("Frost.Columns"),Columns.prototype.getX=function(){return this.x},Columns.prototype.setX=function(a){this.x=a},Columns.prototype.getY=function(){return this.y},Columns.prototype.setY=function(a){this.y=a},Columns.prototype.getSeries=function(){return this.series},Columns.prototype.setSeries=function(a){this.series=a},Columns.prototype.getContainer=function(){return this._container},Columns.prototype.setContainer=function(a){this._container=a},Columns.prototype.getGap=function(){return this.getSingleWidth()/2},Columns.prototype.getSingleWidth=function(){var a=3*this.getSeries().length+1,b=this.getX()/a;return 2*b},Columns.prototype.getSingleHeight=function(a){return a/this.getMaxSerie()*this.getY()},Columns.prototype.getMaxSerie=function(){for(var a=this.getSeries()[0].y,b=0;b!=this.getSeries().length;b++)this.getSeries()[b].y>a&&(a=this.getSeries()[b].y);return a},Columns.prototype.getParent=function(){return this._parent},Columns.prototype.render=function(){var a=[];this._groupContainer=this._container.append("g");for(var b=0;b!=this.getSeries().length;b++){a.push(this.getSeries()[b].name);var c=new Frost.Column({value:this.getSeries()[b].y,x:this.getGap()*(b+1)+this.getSingleWidth()*b,y:this.getY()-this.getSingleHeight(this.getSeries()[b].y),width:this.getSingleWidth(),height:this.getSingleHeight(this.getSeries()[b].y),color:this.getSeries()[b].color,name:this.getSeries()[b].name,container:this._groupContainer,parent:this});this.columnList.push(c.render())}return this.xAxis=new Frost.XAxis({length:this.getSeries().length,width:this.getX(),parent:this,container:this._container,space:this.getY(),outerPadding:this.getGap(),padding:this.getGap(),valueList:a,step:this.getSingleWidth()+this.getGap()}).render(),this.bindUI(),this},Columns.prototype.bindUI=function(){var a=this.columnList;this.getParent().getContainer().on("click",function(){for(var b=0;b!=a.length;b++)a[b].isHighLight()&&a[b].deleteHighLight()})},Frost.Columns=Columns,Frost.namespace("Frost.Graph"),Graph.prototype.getNode=function(){return this.node},Graph.prototype.setNode=function(a){this.node=a},Graph.prototype.getSeries=function(){return this.series},Graph.prototype.setSeries=function(a){this.series=a},Graph.prototype.getType=function(){return this.type},Graph.prototype.setType=function(a){this.type=a},Graph.prototype.getWidth=function(){return this.width},Graph.prototype.setWidth=function(a){this.width=a},Graph.prototype.getHeight=function(){return this.height},Graph.prototype.setHeight=function(a){this.height=a},Graph.prototype.getChartObject=function(){return this.chartObject},Graph.prototype.setChartObject=function(a){this.chartObject=a},Graph.prototype.getDetail=function(){return this.detail},Graph.prototype.getContainer=function(){return this.container},Graph.prototype.render=function(){var a=d3.select(this.node).append("div").attr("class","frost_rootNode").style("height",this.getHeight()+"px").style("width",this.getWidth()+"px");switch(this.container=a.append("svg").attr("width",this.getWidth()).attr("height",this.getHeight()),this.detail=new Frost.Detail({container:a}).render(),this.getType().toLowerCase()){case"column":return this.chartObject=new Frost.Columns({x:this.getWidth(),y:this.getHeight()-25,series:this.getSeries(),container:this.container,parent:this}),this.chartObject.render(),this}},Frost.Graph=Graph;